name: FEDB-CICD
on: [pull_request, workflow_dispatch]
env:
  GIT_SUBMODULE_STRATEGY: recursive
  USER_NAME: dl239
  #PASSWORD: secrets.DL_PAT
jobs:
  style_check:
    runs-on: self-hosted
    container:
      image: ghcr.io/4paradigm/centos6_gcc7_fesql:0.0.1-legacy
      credentials:
        username: $USER_NAME
        password: ${{ secrets.DL_PAT }}
    steps:
      - uses: actions/checkout@v1
#        with:
#          submodules: true
      - name: update nss
        run: yum update -y nss curl libcurl
      - name: style_check
        run: source /root/.bashrc && bash tools/style_check.sh
