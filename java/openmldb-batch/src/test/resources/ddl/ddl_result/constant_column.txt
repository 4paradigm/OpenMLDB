create table `behaviourTable`(
`itemId` string,
`reqId` string,
`tags` string,
`instanceKey` string,
`eventTime` timestamp,
`tdid` string,
`eventDay` timestamp,
`platform` string,
`startday` string,
`starthour` string,
`startweekday` int,
`startperiod` string,
`yumid` string,
index(key=(`tdid`), ts=`eventTime`, ttl=46080m, ttl_type=absolute)
) options ( replicanum=1, partitionnum=1 ) ;
create table `bo_aie_recommendation`(
`id` string,
`ingestionTime` timestamp,
`biz_date` timestamp,
`u_tc` bigint,
`u_ta` double,
`u_breakfast_tc` bigint,
`u_nonbreakfast_tc` bigint,
`u_morning_tc` bigint,
`u_lunch_tc` bigint,
`u_afternoon_tc` bigint,
`u_dinner_tc` bigint,
`u_latenight_tc` bigint,
`u_mon_tc` bigint,
`u_tue_tc` bigint,
`u_wen_tc` bigint,
`u_thu_tc` bigint,
`u_fri_tc` bigint,
`u_sat_tc` bigint,
`u_sun_tc` bigint,
`u_tier1_tc` bigint,
`u_tier2_tc` bigint,
`u_tier3_tc` bigint,
`u_tier4_tc` bigint,
`u_tier5_tc` bigint,
`u_tier6_tc` bigint,
`u_breakfast_maxta` double,
`u_nonbreakfast_maxta` double,
`u_morning_maxta` double,
`u_lunch_maxta` double,
`u_afternoon_maxta` double,
`u_dinner_maxta` double,
`u_latenight_maxta` double,
`u_mon_maxta` double,
`u_tue_maxta` double,
`u_wen_maxta` double,
`u_thu_maxta` double,
`u_fri_maxta` double,
`u_sat_maxta` double,
`u_sun_maxta` double,
`u_breakfast_minta` double,
`u_nonbreakfast_minta` double,
`u_morning_minta` double,
`u_lunch_minta` double,
`u_afternoon_minta` double,
`u_dinner_minta` double,
`u_latenight_minta` double,
`u_mon_minta` double,
`u_tue_minta` double,
`u_wen_minta` double,
`u_thu_minta` double,
`u_fri_minta` double,
`u_sat_minta` double,
`u_sun_minta` double,
`u_breakfast_avgta` double,
`u_nonbreakfast_avgta` double,
`u_morning_avgta` double,
`u_lunch_avgta` double,
`u_afternoon_avgta` double,
`u_dinner_avgta` double,
`u_latenight_avgta` double,
`u_mon_avgta` double,
`u_tue_avgta` double,
`u_wen_avgta` double,
`u_thu_avgta` double,
`u_fri_avgta` double,
`u_sat_avgta` double,
`u_sun_avgta` double,
`u_breakfast_sumta` double,
`u_nonbreakfast_sumta` double,
`u_morning_sumta` double,
`u_lunch_sumta` double,
`u_afternoon_sumta` double,
`u_dinner_sumta` double,
`u_latenight_sumta` double,
`u_mon_sumta` double,
`u_tue_sumta` double,
`u_wen_sumta` double,
`u_thu_sumta` double,
`u_fri_sumta` double,
`u_sat_sumta` double,
`u_sun_sumta` double,
`u_breakfast_std_ta` double,
`u_nonbreakfast_std_ta` double,
`u_morning_std_ta` double,
`u_lunch_std_ta` double,
`u_afternoon_std_ta` double,
`u_dinner_std_ta` double,
`u_latenight_std_ta` double,
`u_mon_std_ta` double,
`u_tue_std_ta` double,
`u_wen_std_ta` double,
`u_thu_std_ta` double,
`u_fri_std_ta` double,
`u_sat_std_ta` double,
`u_sun_std_ta` double,
`u_avg_discount` double,
`u_max_discount` double,
`u_min_discount` double,
`u_sum_discount` double,
`u_std_discount` double,
`u_avg_ta_by_ps` double,
`u_std_ta_by_ps` double,
`u_avg_city_tier` double,
`u_max_city_tier` int,
`u_min_city_tier` int,
`u_std_city_tier` double,
`u_avg_party_size` double,
`u_max_party_size` int,
`u_min_party_size` int,
`u_std_party_size` double,
`u_cor_ta_da` double,
`u_distinct_daypart` bigint,
`u_distinct_city` bigint,
`u_distinct_work_day` bigint,
`u_distinct_store` bigint,
`u_delivery_tc` bigint,
`u_delivery_ta` double,
`u_avg_delivery_party_size` double,
`u_max_delivery_party_size` int,
`u_min_delivery_party_size` int,
`u_std_delivery_party_size` double,
`u_preorder_tc` bigint,
`u_preorder_ta` double,
`u_avg_preorder_party_size` double,
`u_max_preorder_party_size` int,
`u_min_preorder_party_size` int,
`u_std_preorder_party_size` double,
`u_side_sold` bigint,
`u_coffee_sold` bigint,
`u_congee_sold` bigint,
`u_nutrition_sold` bigint,
`u_panini_sold` bigint,
`u_riceroll_sold` bigint,
`u_dabing_sold` bigint,
`u_burger_sold` bigint,
`u_chickensnack_sold` bigint,
`u_cob_sold` bigint,
`u_csd_sold` bigint,
`u_eggtart_sold` bigint,
`u_icecream_sold` bigint,
`u_sidefrenchfries_sold` bigint,
`u_sideothers_sold` bigint,
`u_tea_sold` bigint,
`u_twister_sold` bigint,
`u_wing_sold` bigint,
`u_waffle_sold` bigint,
`u_croissant_sold` bigint,
`u_nonfood_sold` bigint,
`u_pie_sold` bigint,
`u_juice_sold` bigint,
`u_rice_sold` bigint,
`u_lto_sold` bigint,
`u_side_sell_price` double,
`u_coffee_sell_price` double,
`u_congee_sell_price` double,
`u_nutrition_sell_price` double,
`u_panini_sell_price` double,
`u_riceroll_sell_price` double,
`u_dabing_sell_price` double,
`u_burger_sell_price` double,
`u_chickensnack_sell_price` double,
`u_cob_sell_price` double,
`u_csd_sell_price` double,
`u_eggtart_sell_price` double,
`u_icecream_sell_price` double,
`u_sidefrenchfries_sell_price` double,
`u_sideothers_sell_price` double,
`u_tea_sell_price` double,
`u_twister_sell_price` double,
`u_wing_sell_price` double,
`u_waffle_sell_price` double,
`u_croissant_sell_price` double,
`u_nonfood_sell_price` double,
`u_pie_sell_price` double,
`u_juice_sell_price` double,
`u_rice_sell_price` double,
`u_lto_sell_price` double,
`u_single_product_number` double,
`u_combo_product_number` double,
`u_kids_meal_toy_num` bigint,
`u_trade_up_num` int,
`u_chicken_burger_soldratio_orlean` double,
`u_chicken_burger_soldratio_spicy` double,
`u_chicken_burger_soldratio_crusty` double,
`u_lasttrans_nb_date` string,
`u_lasttrans_nb_store_code` string,
`u_lasttrans_nb_city` string,
`u_lasttrans_nb_city_tier` int,
`u_lasttrans_nb_ta` double,
`u_lasttrans_nb_daypart` string,
`u_lasttrans_nb_sell_code` string,
`u_lasttrans_b_date` string,
`u_lasttrans_b_store_code` string,
`u_lasttrans_b_city` string,
`u_lasttrans_b_city_tier` int,
`u_lasttrans_b_ta` double,
`u_lasttrans_b_daypart` string,
`u_lasttrans_b_sell_code` string,
`u_breakfastcard_flag` int,
`u_coffeecard_flag` int,
`u_deliverycard_flag` int,
`u_dashencard_flag` int,
index(key=(`id`), ttl=1, ttl_type=latest)
) options ( replicanum=1, partitionnum=1 ) ;
create table `feedbackTable`(
`itemId` string,
`reqId` string,
`instanceKey` string,
`eventTime` timestamp,
`ingestionTime` timestamp,
`actionValue` int,
index(key=(`instanceKey`), ttl=1, ttl_type=latest)
) options ( replicanum=1, partitionnum=1 ) ;
