create table `action`(
`reqId` string,
`eventTime` timestamp,
`ingestionTime` timestamp,
`actionValue` double,
index(key=(`reqId`), ttl=1, ttl_type=latest)
) options ( replicanum=1, partitionnum=1 ) ;
create table `bo_hislabel`(
`ingestionTime` timestamp,
`zUserId` string,
`uUserId` string,
`nRequestTime` timestamp,
`fWatchedTimeLen` double,
index(key=(`zUserId`,`uUserId`), ts=`ingestionTime`, ttl=2881m, ttl_type=absolute)
) options ( replicanum=1, partitionnum=1 ) ;
create table `flattenRequest`(
`reqId` string,
`eventTime` timestamp,
`index` string,
`uUserId` string,
`zUserId` string,
`fRequestId` string,
`fDisplayRank` double,
`fSessionId` string,
`nRoomUserNum` double,
`nRoomInLm` double,
`nRoomInGame` double,
`nRequestTime` timestamp,
`zSex` string,
`zPhoneType` string,
`zLongitude` double,
`zLatitude` double,
`zPosition` string,
`zHome` string,
`zChannel` string,
`zAge` double,
`zHasCreatedGroup` string,
`zRegTime` timestamp,
`zFaceScore` double,
`zFansNum` double,
`zFollowNum` double,
`zGainNum` double,
`zSGiftNum` double,
`zSWihsperNum` double,
`zSChatMsgNum` double,
`zLiveAvgLength` double,
`zLiveFrequency` double,
`zLiveDawn` double,
`zLiveMorning` double,
`zLiveAfternoon` double,
`zLiveEvening` double,
`zMaxRGiftNumOneUser` double,
`zRGiftUserNum` double,
`zLiveMsgNum` double,
`zLiveDisharmony` double,
`zLiveShareNum` double,
`zSmallGiftNum` double,
`zBigGiftNum` double,
`uSex` string,
`uPhoneType` string,
`uLongitude` double,
`uLatitude` double,
`uPosition` string,
`uHome` string,
`uChannel` string,
`uAge` double,
`uHasJoinedGroup` string,
`uRegTime` timestamp,
`uFirstChargeNum` double,
`uLatestChargeTime` timestamp,
`uRemainDiamondNum` double,
`uFansNum` double,
`uFollowNum` double,
`uGainNum` double,
`uSGiftNum` double,
`uSWihsperNum` double,
`uSChatMsgNum` double,
`uLiveSMsgNum` double,
`uHasBeenBanned` double,
`uSMsgFiltered` double,
`uWatchDawn` double,
`uWatchMorning` double,
`uWatchAfternoon` double,
`uWatchEvening` double,
`uWatchAvgLength` double,
`uEnterRoomFrequency` double,
`uTopThreeNum` double,
`uWatchSameCity` double,
`uPlayGame` string,
`uLive` double,
`uLmNum` double,
`uSBigGiftNum` double,
`uSSmallGiftNum` double,
`uRGiftUserNum` double,
`uWatchTopList` int,
`split_id` int,
index(key=(`uUserId`), ts=`eventTime`, ttl=(2881m, 10), ttl_type=absandlat),
index(key=(`uSex`), ts=`eventTime`, ttl=172801, ttl_type=latest),
index(key=(`uSex`), ts=`nRequestTime`, ttl=36001, ttl_type=latest),
index(key=(`zChannel`), ts=`eventTime`, ttl=2881m, ttl_type=absolute),
index(key=(`zUserId`), ts=`eventTime`, ttl=2881m, ttl_type=absolute),
index(key=(`uPlayGame`,`zUserId`), ts=`eventTime`, ttl=601m, ttl_type=absolute),
index(key=(`uHasJoinedGroup`), ts=`eventTime`, ttl=601m, ttl_type=absolute),
index(key=(`uHasJoinedGroup`), ts=`nRequestTime`, ttl=2881m, ttl_type=absolute),
index(key=(`zUserId`,`uUserId`), ts=`eventTime`, ttl=2881m, ttl_type=absolute)
) options ( replicanum=1, partitionnum=1 ) ;
